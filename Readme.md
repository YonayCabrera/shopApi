# SHOP-API

## BEFORE START YOU NEED POSTGRES

To run your database you need install Docker before
After that run this sentences on bash:

- cd src/main/docker/
- docker build -t shoptheam .
- docker run --name shoptheam -p 5432:5432 -d shoptheam

Finally you can verify the container with
docker ps

## HOW USE THIS API

I give you Two admins to start use this api :
- name= yonay, email = yonaycl@gmail.com, password = iamadmin
- name= jose, email = jose@gmail.com, password = joseEsMiMeta

### FIRST YOU NEED TO LOG TO GET AUTHORIZATION TOKEN 

Here a sample with postman

![alt text](https://i.gyazo.com/6434d53a73087050ac20f4df1880e513.png)

With this token you can create more admins or users

### HOW TO CREATE, UPDATE, DELETE or GET USERS ONLY WITH ADMIN TOKEN

##### Here the rules

- The User have id, name, password, email, role, token
- The email and password are required, if you dont send any role
this user canÂ´t access to any query of customer or users
- The id is autogenerated and the token too
        
The admin token you can do it, here a example:

![alt text](https://i.gyazo.com/f7d86b96f19a1ed187cfaa3a8ca7dfbd.png)

You need to send the token on all calls,
Here you can list all users with this query


#### GET ALL USERS

- ###### GET /users?token=admin-token

#### CREATE ONE USER

- ###### POST /createUser?token=admin-token

Here you need to send the data in the body

![alt text](https://i.gyazo.com/8bd164a6dacb1f0697f11fd4c229567b.png)

#### UPDATE ONE USER

- ###### PUT /users/id-of-user?token=admin-token

You need to put id param and send request body like this:

![alt_text](https://i.gyazo.com/9df4418a9b6b7e964c8a63f91e56651c.png)


![alt_text](https://i.gyazo.com/39bc02c341a06ec56ad5331a054f74a2.png)

#### DELETE ONE USER

- ###### DELETE /users/id-of-user?token=admin-token
You need to put id param
![alt_text](https://i.gyazo.com/3b3dad53e6cffe6c763098fa5cfb9e14.png)

